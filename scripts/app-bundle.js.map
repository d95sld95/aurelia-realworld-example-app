{"version":3,"sources":["app.js","environment.js","main.js","/Users/steen/dev-discover/aurelia-realworld-example-app/src/article/index.js","auth/index.js","auth/login.js","auth/register.js","editor/editor.js","config/app.constants.js","home/home.js","layout/app-footer.js","layout/app-header.js","/Users/steen/dev-discover/aurelia-realworld-example-app/src/profile/profile.js","services/articles.service.js","services/comments.service.js","services/jwt.service.js","services/profile.service.js","services/tags.service.js","services/user.service.js","resources/index.js","/Users/steen/dev-discover/aurelia-realworld-example-app/src/settings/settings.js","resources/value-converters/date-format.js","resources/value-converters/lowercase.js","resources/value-converters/number-format.js"],"names":["App","configureRouter","config","router","title","map","route","moduleId","name","settings","authenticated","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","authIndex","Login","Register","Editor","message","activate","params","slug","AppConstants","api","jwtKey","appName","Home","text","AppFooter","date","Date","AppHeader","Articles","$http","$q","_AppConstants","_$http","_$q","query","request","url","type","method","filters","res","data","get","deferred","defer","replace","reject","promise","resolve","article","err","destroy","save","favorite","unfavorite","Comments","add","payload","comment","body","getAll","comments","commentId","articleSlug","JWT","$window","_$window","token","localStorage","removeItem","Profile","username","profile","follow","unfollow","Tags","tags","User","$state","_JWT","_$state","current","attemptAuth","credentials","user","update","fields","logout","go","$current","reload","verifyAuth","headers","Authorization","ensureAuthIs","bool","authValid","globalResources","DateFormatValueConverter","toView","value","format","LowercaseValueConverter","toLowerCase","NumberFormatValueConverter"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n\n  configureRouter(config, router) {\n    config.title = 'Contacts';\n    config.map([\n      { route: '', moduleId: 'home/home', name: 'home',  title: 'Home'},\n      { route: 'editor/:slug', moduleId: 'editor/editor', name: 'editor', title: 'Editor', settings: { authenticated: true } },\n      { route: 'auth', moduleId: 'auth/index', name: 'auth'}\n    ]);\n\n    this.router = router;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n",null,"\nexport class authIndex {\n\n  configureRouter(config, router) {\n    config.title = 'Login/Register';\n    config.map([\n      { route: ['', 'login'], moduleId: 'auth/login', name: 'login',  title: 'Sign in'},\n      { route: 'register', moduleId: 'auth/register', name: 'register', title: 'Sign up'}\n    ]);\n\n    this.router = router;\n  }\n}\n","\nexport class Login {\n}\n","\nexport class Register {\n}\n","\nexport class Editor {\n\n  constructor() {\n    this.message = 'Editor';\n  }\n\n  activate(params) {\n    this.slug = params.slug;\n  }\n}\n","const AppConstants = {\n  api: 'https://conduit.productionready.io/api',\n  // api: 'http://localhost:3000/api',\n  jwtKey: 'jwtToken',\n  appName: 'Conduit',\n};\n\nexport default AppConstants;\n","\nexport class Home {\n\n  constructor() {\n    this.text = 'Home';\n  }\n}\n","\n\nexport class AppFooter {\n  constructor() {\n    this.appName = 'App name';\n\n    // Get today's date to generate the year\n    this.date = new Date();\n  }\n}\n","export class AppHeader {\n\n  constructor() {\n    this.text = 'Header';\n  }\n}\n",null,"import constants from '../config/app.constants';\nimport { HttpClient } from 'aurelia-fetch-client';\n\nimport {inject} from 'aurelia-framework';\n\n@inject(constants, HttpClient)\nexport default class Articles {\n\n  constructor(AppConstants, $http, $q) {\n    this._AppConstants = AppConstants;\n    this._$http = $http;\n    this._$q = $q;\n  }\n\n  /*\n   Config object spec:\n\n   {\n   type: String [REQUIRED] - Accepts \"all\", \"feed\"\n   filters: Object that serves as a key => value of URL params (i.e. {author:\"ericsimons\"} )\n   }\n   */\n  query(config) {\n    // Create the $http object for this request\n    let request = {\n      url: this._AppConstants.api + '/articles' + ((config.type === 'feed') ? '/feed' : ''),\n      method: 'GET',\n      params: config.filters ? config.filters : null\n    };\n    return this._$http(request).then((res) => res.data);\n  }\n\n  get(slug) {\n    let deferred = this._$q.defer();\n\n    if (!slug.replace(' ', '')) {\n      deferred.reject('Article slug is empty');\n      return deferred.promise;\n    }\n\n    this._$http({\n      url: this._AppConstants.api + '/articles/' + slug,\n      method: 'GET'\n    }).then(\n      (res) => deferred.resolve(res.data.article),\n      (err) => deferred.reject(err)\n    );\n\n    return deferred.promise;\n  }\n\n  destroy(slug) {\n    return this._$http({\n      url: this._AppConstants.api + '/articles/' + slug,\n      method: 'DELETE'\n    });\n  }\n\n  save(article) {\n    let request = {};\n\n    if (article.slug) {\n      request.url = `${this._AppConstants.api}/articles/${article.slug}`;\n      request.method = 'PUT';\n      delete article.slug;\n    } else {\n      request.url = `${this._AppConstants.api}/articles`;\n      request.method = 'POST';\n    }\n\n    request.data = { article: article };\n\n    return this._$http(request).then((res) => res.data.article);\n  }\n\n  favorite(slug) {\n    return this._$http({\n      url: this._AppConstants.api + '/articles/' + slug + '/favorite',\n      method: 'POST'\n    });\n  }\n\n  unfavorite(slug) {\n    return this._$http({\n      url: this._AppConstants.api + '/articles/' + slug + '/favorite',\n      method: 'DELETE'\n    });\n  }\n}\n","import constants from '../config/app.constants';\nimport { HttpClient } from 'aurelia-fetch-client';\n\nimport {inject} from 'aurelia-framework';\n\n@inject(constants, HttpClient)\nexport default class Comments {\n\n  constructor(AppConstants, $http) {\n    this._AppConstants = AppConstants;\n    this._$http = $http;\n  }\n\n\n  // Add a comment to an article\n  add(slug, payload) {\n    return this._$http({\n      url: `${this._AppConstants.api}/articles/${slug}/comments`,\n      method: 'POST',\n      data: { comment: { body: payload } }\n    }).then((res) => res.data.comment);\n  }\n\n  getAll(slug) {\n    return this._$http({\n      url: `${this._AppConstants.api}/articles/${slug}/comments`,\n      method: 'GET'\n    }).then((res) => res.data.comments);\n  }\n\n  destroy(commentId, articleSlug) {\n    return this._$http({\n      url: `${this._AppConstants.api}/articles/${articleSlug}/comments/${commentId}`,\n      method: 'DELETE'\n    });\n  }\n}\n","import constants from '../config/app.constants';\n\nimport {inject} from 'aurelia-framework';\n\n@inject(constants)\nexport default class JWT {\n\n  constructor(AppConstants, $window) {\n    this._AppConstants = AppConstants;\n    this._$window = $window;\n  }\n\n  save(token) {\n    this._$window.localStorage[this._AppConstants.jwtKey] = token;\n  }\n\n  get() {\n    return this._$window.localStorage[this._AppConstants.jwtKey];\n  }\n\n  destroy() {\n    this._$window.localStorage.removeItem(this._AppConstants.jwtKey);\n  }\n\n}\n","import constants from '../config/app.constants';\nimport { HttpClient } from 'aurelia-fetch-client';\n\nimport {inject} from 'aurelia-framework';\n\n@inject(constants, HttpClient)\nexport default class Profile {\n\n  constructor(AppConstants, $http) {\n    this._AppConstants = AppConstants;\n    this._$http = $http;\n  }\n\n  get(username) {\n    return this._$http({\n      url: this._AppConstants.api + '/profiles/' + username,\n      method: 'GET'\n    }).then((res) => res.data.profile);\n  }\n\n  follow(username) {\n    return this._$http({\n      url: this._AppConstants.api + '/profiles/' + username + '/follow',\n      method: 'POST'\n    }).then((res) => res.data);\n  }\n\n  unfollow(username) {\n    return this._$http({\n      url: this._AppConstants.api + '/profiles/' + username + '/follow',\n      method: 'DELETE'\n    }).then((res) => res.data);\n  }\n\n}\n","import constants from '../config/app.constants';\nimport { HttpClient } from 'aurelia-fetch-client';\n\nimport {inject} from 'aurelia-framework';\n\n@inject(constants, HttpClient)\nexport default class Tags {\n  constructor(AppConstants, $http) {\n    this._AppConstants = AppConstants;\n    this._$http = $http;\n  }\n\n  getAll() {\n    return this._$http({\n      url: this._AppConstants.api + '/tags',\n      method: 'GET'\n    }).then((res) => res.data.tags);\n  }\n}\n","import jwt from './jwt.service';\nimport constants from '../config/app.constants';\nimport { HttpClient } from 'aurelia-fetch-client';\n\nimport {inject} from 'aurelia-framework';\n\n@inject(jwt, constants, HttpClient)\nexport default class User {\n\n  constructor(JWT, AppConstants, $http, $state, $q) {\n    this._JWT = JWT;\n    this._AppConstants = AppConstants;\n    this._$http = $http;\n    this._$state = $state;\n    this._$q = $q;\n\n    this.current = null;\n  }\n\n  attemptAuth(type, credentials) {\n    let route = (type === 'login') ? '/login' : '';\n    return this._$http({\n      url: this._AppConstants.api + '/users' + route,\n      method: 'POST',\n      data: {\n        user: credentials\n      }\n    }).then(\n      (res) => {\n        this._JWT.save(res.data.user.token);\n        this.current = res.data.user;\n\n        return res;\n      }\n    );\n  }\n\n  update(fields) {\n    return this._$http({\n      url: this._AppConstants.api + '/user',\n      method: 'PUT',\n      data: { user: fields }\n    }).then(\n      (res) => {\n        this.current = res.data.user;\n        return res.data.user;\n      }\n    );\n  }\n\n  logout() {\n    this.current = null;\n    this._JWT.destroy();\n    this._$state.go(this._$state.$current, null, { reload: true });\n  }\n\n  verifyAuth() {\n    let deferred = this._$q.defer();\n\n    // check for JWT token\n    if (!this._JWT.get()) {\n      deferred.resolve(false);\n      return deferred.promise;\n    }\n\n    if (this.current) {\n      deferred.resolve(true);\n    } else {\n      this._$http({\n        url: this._AppConstants.api + '/user',\n        method: 'GET',\n        headers: {\n          Authorization: 'Token ' + this._JWT.get()\n        }\n      }).then(\n        (res) => {\n          this.current = res.data.user;\n          deferred.resolve(true);\n        },\n\n        (err) => {\n          this._JWT.destroy();\n          deferred.resolve(false);\n        }\n      );\n    }\n\n    return deferred.promise;\n  }\n\n\n  ensureAuthIs(bool) {\n    let deferred = this._$q.defer();\n\n    this.verifyAuth().then((authValid) => {\n      if (authValid !== bool) {\n        this._$state.go('app.home');\n        deferred.resolve(false);\n      } else {\n        deferred.resolve(true);\n      }\n    });\n\n    return deferred.promise;\n  }\n\n}\n","export function configure(config) {\n  config.globalResources([\n    'resources/value-converters/date-format',\n    'resources/value-converters/lowercase',\n    'resources/value-converters/number-format'\n  ]);\n}\n",null,"import moment from 'moment';\n\nexport class DateFormatValueConverter {\n  toView(value, format) {\n    return moment(value).format(format);\n  }\n}\n","export class LowercaseValueConverter {\n  toView(value) {\n    return ('' + value).toLowerCase();\n  }\n}\n","import numeral from 'numeral';\n\nexport class NumberFormatValueConverter {\n  toView(value, format) {\n    return numeral(value).format(format);\n  }\n}\n"],"sourceRoot":".."}